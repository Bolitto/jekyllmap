---
layout: default
---


<h1>All Locations</h1>


  <table>
    <tr>
      <th>Name</th>
      <th></th>
    </tr>


    {% for page in site.pages %}
      {% if page.layout == 'location' %}
    <tr>
      <td><a href="{{ page.url }}">{{ page.title }}</a></td>
      <td><p></p>
    </tr>
      {% endif %}
    {% endfor %}

  </table>


<h3>Map of All Parklets</h3>

<div id="map" style="width: 600px; height: 400px"></div>

<script src="map.geojson"></script>
<script>

  var map = L.map('map').setView([37.7750, -122.4183], 12);

  function onEachFeature(feature, layer) {
    var popupContent = document.createElement('div');
    popupContent.innerHTML = '<a href="/' + feature.properties.permalink + '"><strong>' + feature.properties.name + "</strong></a>";
    console.log("feature.properties: " + feature.properties);
    console.log("layer: " + layer);

    if (feature.properties.image) {
      popupContent.innerHTML += '<br /><img src="/images/' + feature.properties.image + '" height="200px">';
    }
    console.log("attempting to add popup content");
    layer.bindPopup(popupContent);
  }


  L.tileLayer('http://{s}.tiles.mapbox.com/v3/examples.map-vyofok3q/{z}/{x}/{y}.png', {
    maxZoom: 18
  }).addTo(map);



  L.geoJson(data, {
    style: function (feature) {
      return { color: feature.properties.color };
    },
    onEachFeature: onEachFeature
  }).addTo(map);

  var parkIcon = L.icon({
    iconUrl: '/css/park2-18.svg'
  });



</script>