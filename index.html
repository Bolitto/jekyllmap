---
layout: default
---

<div class="row">
  <div class="col-lg-4">
  <h2>All Locations</h2>

    <table>
      <tr>
        <th>Name</th>
        <th></th>
      </tr>

      {% for page in site.pages %}
        {% if page.layout == 'location' %}
      <tr>
        <td><a href="{{ page.url }}">{{ page.title }}</a></td>
        <td><p></p>
      </tr>
        {% endif %}
      {% endfor %}

    </table>
  </div>

  <div class="col-lg-8">
    <h3>Map of All Parklets</h3>

    <div id="map" style="height: 400px;"></div>
  </div>
</div>




<script src="map.geojson"></script>
<script>

  var map = L.map('map').setView([37.7750, -122.4183], 12);

  function onEachFeature(feature, layer) {
    var popupContent = document.createElement('div');
    popupContent.innerHTML = '<a href=' + feature.properties.url + '><strong>' + feature.properties.title + "</strong></a>";

    if (feature.properties.image) {
      popupContent.innerHTML += '<br /><img src="/images/' + feature.properties.image + '" height="200px">';
    }
    console.log("attempting to add popup content");
    layer.bindPopup(popupContent);
  }


  L.tileLayer('http://{s}.tiles.mapbox.com/v3/examples.map-vyofok3q/{z}/{x}/{y}.png', {
    maxZoom: 18
  }).addTo(map);

  L.geoJson(data, {
    style: function (feature) {
      return { color: feature.properties.color };
    },
    onEachFeature: onEachFeature
  }).addTo(map);

  var parkIcon = L.icon({
    iconUrl: '/css/park2-18.svg'
  });



</script>