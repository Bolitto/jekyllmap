---
layout: default
---

<div class="row">
  <div class="col-md-4">
    <h2>All Locations</h2>

    <div class="list-group">
    {% for page in site.pages %}
      {% if page.layout == 'location' %}
      <a href="{{ page.url }}" class="list-group-item ">{{ page.title }}</a>
      {% endif %}
    {% endfor %}
    </div>
  </div>

  <div class="col-md-8">
    <h3>Map of All Parklets</h3>

    <div id="map" style="height: 400px;"></div>
  </div>
</div>




<script src="map.geojson"></script>
<script>

  var map = L.map('map').setView([37.78131, -122.42597], 13);

  function onEachFeature(feature, layer) {
    var popupContent = document.createElement('div');
    popupContent.innerHTML = '<a href=' + feature.properties.url + '><strong>' + feature.properties.title + "</strong></a>";

    if (feature.properties.image) {
      popupContent.innerHTML += '<br /><img src="/images/' + feature.properties.image + '" height="200px">';
    }
    console.log("attempting to add popup content");
    layer.bindPopup(popupContent);
  }


  L.tileLayer('http://{s}.tiles.mapbox.com/v3/examples.map-vyofok3q/{z}/{x}/{y}.png', {
    maxZoom: 18
  }).addTo(map);

  L.geoJson(data, {
    style: function (feature) {
      return { color: feature.properties.color };
    },
    onEachFeature: onEachFeature
  }).addTo(map);

  var parkIcon = L.icon({
    iconUrl: '/css/park2-18.svg'
  });



</script>